(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{dth9:function(t,e,i){"use strict";i.r(e),i.d(e,"ApiListModule",(function(){return C}));var s=i("ofXK"),a=i("tk/3"),c=i("PCNd"),n=i("jtHE"),r=i("itXk"),o=i("fXoL"),l=i("XNiG"),u=i("1G5W"),h=i("vkgz"),p=i("jn67"),b=i("vHPH");let f=(()=>{class t{constructor(t,e){this.http=t,this.logger=e,this.apiBase=p.b+"api/",this.apiListJsonDefault="api-list.json",this.firstTime=!0,this.onDestroy=new l.a,this.sectionsSubject=new n.a(1),this._sections=this.sectionsSubject.pipe(Object(u.a)(this.onDestroy))}get sections(){return this.firstTime&&(this.firstTime=!1,this.fetchSections(),this._sections.subscribe(t=>this.logger.log("ApiService got API sections"))),this._sections.pipe(Object(h.a)(t=>{t.forEach(t=>{t.deprecated=!!t.items&&t.items.every(t=>"deprecated"===t.stability)})}))}ngOnDestroy(){this.onDestroy.next()}fetchSections(t){const e=this.apiBase+(t||this.apiListJsonDefault);this.http.get(e).pipe(Object(u.a)(this.onDestroy),Object(h.a)(()=>this.logger.log("Got API sections from "+e))).subscribe(t=>this.sectionsSubject.next(t),t=>{throw this.logger.error(t),t})}}return t.\u0275fac=function(e){return new(e||t)(o.Vb(a.a),o.Vb(b.a))},t.\u0275prov=o.Ib({token:t,factory:t.\u0275fac}),t})();var y=i("/lUL"),d=i("x4lQ");const v=["filter"];function g(t,e){if(1&t&&(o.Rb(0,"h2"),o.Rb(1,"a",11),o.Cc(2),o.Qb(),o.Qb()),2&t){const t=o.cc().$implicit;o.Ab(1),o.Eb("deprecated-api-item",t.deprecated),o.ic("href",t.path,o.tc),o.Ab(1),o.Ec("@ngrx/",t.title,"")}}function m(t,e){if(1&t&&(o.Pb(0),o.Rb(1,"li",13),o.Rb(2,"a",11),o.Nb(3,"span"),o.Cc(4),o.Qb(),o.Qb(),o.Ob()),2&t){const t=e.$implicit;o.Ab(2),o.Eb("deprecated-api-item","deprecated"===t.stability),o.ic("href",t.path,o.tc),o.Ab(1),o.Db("symbol ",t.docType,""),o.Ab(1),o.Ec(" ",t.title," ")}}function S(t,e){if(1&t&&(o.Rb(0,"ul",12),o.Ac(1,m,5,7,"ng-container",8),o.Qb()),2&t){const t=o.cc().$implicit;o.Ab(1),o.ic("ngForOf",t.items)}}function w(t,e){if(1&t&&(o.Rb(0,"div"),o.Ac(1,g,3,4,"h2",9),o.Ac(2,S,2,1,"ul",10),o.Qb()),2&t){const t=e.$implicit;o.Ab(1),o.ic("ngIf",t.items),o.Ab(1),o.ic("ngIf",null==t.items?null:t.items.length)}}class A{constructor(){this.query="",this.status="all",this.type="all"}}let j=(()=>{class t{constructor(t,e){this.apiService=t,this.locationService=e,this.showStatusMenu=!1,this.showTypeMenu=!1,this.criteriaSubject=new n.a(1),this.searchCriteria=new A,this.types=[{value:"all",title:"All"},{value:"class",title:"Class"},{value:"const",title:"Const"},{value:"decorator",title:"Decorator"},{value:"directive",title:"Directive"},{value:"enum",title:"Enum"},{value:"function",title:"Function"},{value:"interface",title:"Interface"},{value:"pipe",title:"Pipe"},{value:"ngmodule",title:"NgModule"},{value:"type-alias",title:"Type alias"},{value:"package",title:"Package"}],this.statuses=[{value:"all",title:"All"},{value:"deprecated",title:"Deprecated"},{value:"security-risk",title:"Security Risk"}]}ngOnInit(){this.filteredSections=Object(r.a)(this.apiService.sections,this.criteriaSubject,(t,e)=>t.map(t=>Object.assign(Object.assign({},t),{items:this.filterSection(t,e)}))),this.initializeSearchCriteria()}setQuery(t){this.setSearchCriteria({query:(t||"").toLowerCase().trim()})}setStatus(t){this.toggleStatusMenu(),this.status=t,this.setSearchCriteria({status:t.value})}setType(t){this.toggleTypeMenu(),this.type=t,this.setSearchCriteria({type:t.value})}toggleStatusMenu(){this.showStatusMenu=!this.showStatusMenu}toggleTypeMenu(){this.showTypeMenu=!this.showTypeMenu}filterSection(t,{query:e,status:i,type:s}){const a=t.items.filter(a=>("all"===s||s===a.docType)&&("all"===i||i===a.stability||"security-risk"===i&&a.securityRisk)&&(!e||-1!==t.name.indexOf(e)||-1!==a.name.indexOf(e)));return a.length?a:"package"!==s||e&&-1===t.name.indexOf(e)?null:[]}initializeSearchCriteria(){const{query:t,status:e,type:i}=this.locationService.search(),s=(t||"").toLowerCase();this.queryEl.nativeElement.value=s,this.status=this.statuses.find(t=>t.value===e)||this.statuses[0],this.type=this.types.find(t=>t.value===i)||this.types[0],this.searchCriteria={query:s,status:this.status.value,type:this.type.value},this.criteriaSubject.next(this.searchCriteria)}setLocationSearch(){const{query:t,status:e,type:i}=this.searchCriteria;this.locationService.setSearch("API Search",{query:t||void 0,status:"all"!==e?e:void 0,type:"all"!==i?i:void 0})}setSearchCriteria(t){this.criteriaSubject.next(Object.assign(this.searchCriteria,t)),this.setLocationSearch()}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(f),o.Mb(y.a))},t.\u0275cmp=o.Gb({type:t,selectors:[["aio-api-list"]],viewQuery:function(t,e){var i;1&t&&o.wc(v,!0),2&t&&o.nc(i=o.Zb())&&(e.queryEl=i.first)},decls:11,vars:9,consts:[[1,"l-flex-wrap","api-filter"],["label","Type:",3,"options","selected","showSymbol","change"],["label","Status:",3,"options","selected","disabled","change"],[1,"form-search"],["placeholder","Filter",3,"input"],["filter",""],[1,"material-icons"],[1,"api-list-container","l-content-small","docs-content"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","api-list",4,"ngIf"],[3,"href"],[1,"api-list"],[1,"api-item"]],template:function(t,e){1&t&&(o.Rb(0,"div",0),o.Rb(1,"aio-select",1),o.Yb("change",(function(t){return e.setType(t.option)})),o.Qb(),o.Rb(2,"aio-select",2),o.Yb("change",(function(t){return e.setStatus(t.option)})),o.Qb(),o.Rb(3,"div",3),o.Rb(4,"input",4,5),o.Yb("input",(function(t){return e.setQuery(t.target.value)})),o.Qb(),o.Rb(6,"i",6),o.Cc(7,"search"),o.Qb(),o.Qb(),o.Qb(),o.Rb(8,"article",7),o.Ac(9,w,3,2,"div",8),o.dc(10,"async"),o.Qb()),2&t&&(o.Ab(1),o.ic("options",e.types)("selected",e.type)("showSymbol",!0),o.Ab(1),o.ic("options",e.statuses)("selected",e.status)("disabled","package"===e.type.value),o.Ab(7),o.ic("ngForOf",o.ec(10,7,e.filteredSections)))},directives:[d.a,s.j,s.k],pipes:[s.b],encapsulation:2}),t})(),C=(()=>{class t{constructor(){this.customElementComponent=j}}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(e){return new(e||t)},providers:[f],imports:[[s.c,c.a,a.b]]}),t})()}}]);
//# sourceMappingURL=api-api-list-module-es2015.b3fb94c41d1aab728bf4.js.map